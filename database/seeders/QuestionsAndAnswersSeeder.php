<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Question;
use App\Models\Answer;

class QuestionsAndAnswersSeeder extends Seeder
{
    public function run()
    {
        // Очищаем таблицы
        Answer::truncate();
        Question::truncate();

        // Массив вопросов и их ответов
        $questions = [
            [
                'question' => 'Ты предпочитаешь активный или спокойный отдых?',
                'answers' => [
                    ['text' => 'Активный — я хочу двигаться и исследовать!', 'reaction' => '😊'],
                    ['text' => 'Спокойный — главное расслабиться', 'reaction' => '😢'],
                    ['text' => 'Зависит от дня', 'reaction' => '😐']
                ]
            ],
            [
                'question' => 'Как ты относишься к ночёвкам в палатках?',
                'answers' => [
                    ['text' => 'Круто! Это часть приключения!', 'reaction' => '😊'],
                    ['text' => 'Нормально, если есть удобства рядом', 'reaction' => '😐'],
                    ['text' => 'Не для меня — только отель', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Любишь ли ты пробовать местную экзотическую еду?',
                'answers' => [
                    ['text' => 'Обожаю! Хоть улитки, хоть насекомые!', 'reaction' => '😊'],
                    ['text' => 'Попробую, но осторожно', 'reaction' => '😐'],
                    ['text' => 'Нет, мне хватит картошки с мясом', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Сколько часов в день готов(а) гулять?',
                'answers' => [
                    ['text' => 'Минимум 8 часов — я не устаю!', 'reaction' => '😊'],
                    ['text' => '4–5 часов — самое то', 'reaction' => '😐'],
                    ['text' => '1–2 часа — и домой', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Как ты относишься к длительным переездам на автобусе?',
                'answers' => [
                    ['text' => 'Мне даже нравится — слушаю музыку и смотрю виды', 'reaction' => '😊'],
                    ['text' => 'Терпимо, но хочется комфорта', 'reaction' => '😐'],
                    ['text' => 'Это ад — только самолёт или машина', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Предпочитаешь ли ты планировать всё заранее или импровизировать?',
                'answers' => [
                    ['text' => 'Импровизация — мой стиль!', 'reaction' => '😊'],
                    ['text' => 'Частично планирую, частично спонтанно', 'reaction' => '😐'],
                    ['text' => 'Всё должно быть расписано до минуты', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Насколько тебе важна "инфраструктура" в месте отдыха?',
                'answers' => [
                    ['text' => 'Мне нужны кафе, магазины, аптека рядом', 'reaction' => '😊'],
                    ['text' => 'Хорошо, если есть, но не критично', 'reaction' => '😐'],
                    ['text' => 'Я могу без всего — лишь бы природа', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Как ты относишься к групповым экскурсиям?',
                'answers' => [
                    ['text' => 'Обожаю — веселее так!', 'reaction' => '😊'],
                    ['text' => 'Могу пойти, но лучше маленькая группа', 'reaction' => '😐'],
                    ['text' => 'Только индивидуально или один(а)', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Готов(а) ли ты экономить на жилье ради большего количества поездок?',
                'answers' => [
                    ['text' => 'Да! Лишь бы было кров и душ', 'reaction' => '😊'],
                    ['text' => 'Могу немного сэкономить, но комфорт важен', 'reaction' => '😐'],
                    ['text' => 'Нет — хороший отель — половина успеха', 'reaction' => '😢']
                ]
            ],
            [
                'question' => 'Насколько тебе важно наличие интернета во время путешествия?',
                'answers' => [
                    ['text' => 'Мне он вообще не нужен — я в отрыве!', 'reaction' => '😊'],
                    ['text' => 'Хочу быть на связи, но не круглые сутки', 'reaction' => '😐'],
                    ['text' => 'Без интернета я как без рук', 'reaction' => '😢']
                ]
            ],
        ];

        foreach ($questions as $item) {
            $question = Question::create([
                'text' => $item['question'],
            ]);

            foreach ($item['answers'] as $answer) {
                Answer::create([
                    'question_id' => $question->id,
                    'text' => $answer['text'],
                    'reaction' => $answer['reaction'],
                ]);
            }
        }
    }
}
